@model H2017_PW_Equipe6.Models.Communication



<div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Modification - @Model.titreCOM</h4>
        </div>
        <div class="modal-body">
            @using (Html.BeginForm("Edit", "Communication", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()
                
                <div class="form-horizontal">
                    @Html.ValidationSummary(true)
                    @Html.HiddenFor(model => model.idCOM)

                    <div class="alert alert-info">
                        <strong>Info: </strong>
                        Les modifications du communiqué ne s'appliquent que sur le site.
                        Veuillez créer un nouveau communiqué pour que celle-ci soit envoyées par courriel.
                    </div>

                    <div class="form-group">
                        <label class="control-label col-md-2" for="titreCOM">Titre</label>
                        <div class="col-md-10">
                            <input class="text-box col-md-10" id="titreCOM" name="titreCOM" type="text" value="@Model.titreCOM" />
                            @Html.ValidationMessageFor(model => model.titreCOM)
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-md-2" for="contenuCOM">Message</label>
                        <div class="col-md-10">
                            <textarea class="text-box col-md-10" id="contenuCOM" name="contenuCOM" rows="12">@Model.contenuCOM</textarea>
                            @Html.ValidationMessageFor(model => model.contenuCOM)
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-md-2" for="fileUpload">Pièces jointes</label>
                        <div class="col-md-10">
                            <ul class="list-unstyled">
                                @foreach (var fichier in @Model.FichierCommunications)
                                {
                                    <li>
                                        @fichier.nom
                                        <span class="pull-right">
                                            Supprimer
                                        </span>
                                    </li>
                                }
                            </ul>
                            <input type='file' multiple id='fileUpload' name="files" />
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-12">
                            <input type="submit" value="Envoyer" class="btn btn-default" />
                            <a class="btn btn-default" data-dismiss="modal">Annuler</a>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>